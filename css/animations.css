/* === ANIMATIONS.CSS ===
   All keyframes and animation classes
*/

/* Breathing/Idle */
@keyframes breathe {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(1.02) translateY(-2px); }
}
.anim-idle { animation: breathe 3s ease-in-out infinite; transform-origin: bottom; }

/* Low HP Panic */
@keyframes panic {
    0%, 100% { transform: translateX(0) scaleY(1); }
    20% { transform: translateX(-1px) scaleY(1.01); }
    40% { transform: translateX(2px) scaleY(0.99); }
    60% { transform: translateX(-2px) scaleY(1.01); }
    80% { transform: translateX(1px) scaleY(0.99); }
}
.anim-panic { animation: panic 0.25s infinite; transform-origin: bottom; }

/* Cast (Special Attack) */
@keyframes cast {
    0%, 100% { transform: scale(1); filter: brightness(1); }
    50% { transform: scale(1.06); filter: brightness(1.4); }
}
.anim-cast { animation: cast 0.35s ease-in-out infinite; }

/* Physical Attack Lunge */
@keyframes lunge-right {
    0% { transform: translateX(0); }
    40% { transform: translateX(110px) scale(1.12); }
    100% { transform: translateX(0); }
}
.anim-attack-right { animation: lunge-right 0.4s ease-in-out; }

@keyframes lunge-left {
    0% { transform: translateX(0); }
    40% { transform: translateX(-110px) scale(1.12); }
    100% { transform: translateX(0); }
}
.anim-attack-left { animation: lunge-left 0.4s ease-in-out; }

/* Wind-up before attack */
@keyframes windup {
    0% { transform: translateX(0) scale(1); }
    100% { transform: translateX(-15px) scale(0.95); }
}
.anim-windup { animation: windup 0.12s ease-out forwards; }

/* Charge vibration */
@keyframes charge-vibrate {
    0%, 100% { transform: translateX(0); filter: brightness(1.1); }
    25% { transform: translateX(-3px); }
    50% { transform: translateX(3px); filter: brightness(1.3); }
    75% { transform: translateX(-2px); }
}
.anim-charge { animation: charge-vibrate 0.08s infinite; }

/* KO Flash */
@keyframes koFlash {
    0% { filter: grayscale(0) brightness(1) drop-shadow(0 0 0 rgba(239, 68, 68, 0)); }
    30% { filter: grayscale(0) brightness(1.55) drop-shadow(0 0 16px rgba(239, 68, 68, 0.95)); }
    100% { filter: grayscale(0.15) brightness(1.05) drop-shadow(0 0 10px rgba(239, 68, 68, 0.55)); }
}
.ko-flash { animation: koFlash 0.7s ease-out forwards; }
.ko-grey { filter: grayscale(1) brightness(0.9) contrast(0.95); }

/* Faint Animation */
@keyframes faint-drop {
    0% { transform: translateY(0); opacity: 1; filter: grayscale(0) brightness(1); }
    25% { transform: translateY(0); opacity: 1; filter: grayscale(0) brightness(1.4) drop-shadow(0 0 14px rgba(239, 68, 68, 0.9)); }
    55% { transform: translateY(10px); opacity: 0.9; filter: grayscale(0.7) brightness(1); }
    100% { transform: translateY(50px); opacity: 0; filter: grayscale(1) brightness(0.9); }
}
.anim-faint { animation: faint-drop 1s forwards; }

/* Entry Animations */
@keyframes enter-left {
    0% { transform: translateX(-220px) scale(0.95); opacity: 0; filter: brightness(2); }
    100% { transform: translateX(0) scale(1); opacity: 1; filter: brightness(1); }
}
.anim-enter-left { animation: enter-left 0.6s cubic-bezier(0.22, 1, 0.36, 1); }

@keyframes enter-left-back {
    0% { transform: translateX(-280px) scale(0.92); opacity: 0; filter: brightness(2); }
    70% { transform: translateX(20px) scale(1.06); opacity: 1; filter: brightness(1.15); }
    100% { transform: translateX(0) scale(1); opacity: 1; filter: brightness(1); }
}
.anim-enter-left-back { animation: enter-left-back 0.7s cubic-bezier(0.22, 1, 0.36, 1); }

@keyframes enter-right {
    0% { transform: translateX(220px) scale(0.95); opacity: 0; filter: brightness(2); }
    100% { transform: translateX(0) scale(1); opacity: 1; filter: brightness(1); }
}
.anim-enter-right { animation: enter-right 0.6s cubic-bezier(0.22, 1, 0.36, 1); }

@keyframes enter-right-back {
    0% { transform: translateX(280px) scale(0.92); opacity: 0; filter: brightness(2); }
    70% { transform: translateX(-20px) scale(1.06); opacity: 1; filter: brightness(1.15); }
    100% { transform: translateX(0) scale(1); opacity: 1; filter: brightness(1); }
}

/* Warp Animation for Evolution */
@keyframes warp {
    0% { transform: scale(1); opacity: 1; filter: brightness(1); }
    15% { transform: scale(0.85); opacity: 0.7; filter: brightness(1.5) blur(2px); }
    30% { transform: scale(0.7); opacity: 0.4; filter: brightness(2) blur(4px); }
    50% { transform: scale(0.5); opacity: 0; filter: brightness(3) blur(6px); }
    51% { transform: scale(0.5); opacity: 0; filter: brightness(3) blur(6px); }
    52% { transform: scale(0.6); opacity: 0; filter: brightness(2.5) blur(5px); }
    70% { transform: scale(0.9); opacity: 0.5; filter: brightness(1.8) blur(3px); }
    85% { transform: scale(1.1); opacity: 0.8; filter: brightness(1.3) blur(1px); }
    100% { transform: scale(1); opacity: 1; filter: brightness(1); }
}
.anim-warp { animation: warp 1s cubic-bezier(0.4, 0, 0.2, 1); }
.anim-enter-right-back { animation: enter-right-back 0.7s cubic-bezier(0.22, 1, 0.36, 1); }

/* Hit Animations */
@keyframes shake-hit {
    0%, 100% { transform: translateX(0); filter: brightness(1); }
    20% { transform: translateX(-10px); filter: brightness(2) sepia(1) saturate(5) hue-rotate(-50deg); }
    40% { transform: translateX(10px); }
    60% { transform: translateX(-10px); }
    80% { transform: translateX(10px); }
}
.anim-hit { animation: shake-hit 0.5s ease-out; }

@keyframes wobble-weak {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-4px); }
    50% { transform: translateX(4px); }
    75% { transform: translateX(-2px); }
}
.anim-hit-weak { animation: wobble-weak 0.35s ease-out; }

/* Camera Effects */
@keyframes cameraZoom {
    0% { transform: scale(1); }
    40% { transform: scale(1.05); }
    100% { transform: scale(1); }
}
.battle-stage.camera-zoom { animation: cameraZoom 0.16s ease-out; }

@keyframes screenShake {
    0% { transform: translateX(0) translateY(0); }
    20% { transform: translateX(-8px) translateY(2px); }
    40% { transform: translateX(7px) translateY(-2px); }
    60% { transform: translateX(-6px) translateY(1px); }
    80% { transform: translateX(6px) translateY(-1px); }
    100% { transform: translateX(0) translateY(0); }
}
.battle-stage.screen-shake { animation: screenShake 0.24s ease-out; }

/* Impact Flash */
@keyframes whiteFlash {
    0% { filter: brightness(1); }
    25% { filter: brightness(3) saturate(0); }
    100% { filter: brightness(1); }
}
.impact-flash { animation: whiteFlash 0.18s ease-out; }

/* Damage Popup */
@keyframes float-up {
    0% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-50px) scale(1.5); }
}
.dmg-popup {
    position: absolute;
    animation: float-up 1s forwards;
    pointer-events: none;
    font-weight: 900;
    text-shadow: 2px 2px 0 #000;
    z-index: 50;
    font-size: 2.5rem;
    color: white;
    left: 50%;
    top: 20%;
}
.effect-popup {
    position: absolute;
    animation: float-up 0.9s forwards;
    pointer-events: none;
    font-weight: 900;
    text-shadow: 2px 2px 0 #000;
    z-index: 50;
    font-size: 1.6rem;
    color: white;
    left: 50%;
    top: 8%;
}
.eff-good { color: #facc15; }
.eff-bad { color: #9ca3af; }
.eff-zero { color: #ef4444; }
.crit-text { color: #facc15; font-size: 3rem; }

/* Pulse */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Evolution */
@keyframes evolve-glow {
    0% { filter: brightness(1) saturate(1); }
    50% { filter: brightness(2) saturate(0) drop-shadow(0 0 30px white); }
    100% { filter: brightness(1) saturate(1); }
}
.anim-evolve { animation: evolve-glow 1.5s ease-in-out; }

/* Evolvable indicator animations */
@keyframes evolve-glow-pulse {
    0%, 100% { box-shadow: 0 0 8px 2px rgba(168, 85, 247, 0.6), 0 0 16px 4px rgba(168, 85, 247, 0.3); }
    50% { box-shadow: 0 0 12px 4px rgba(168, 85, 247, 0.8), 0 0 24px 8px rgba(168, 85, 247, 0.5); }
}
@keyframes star-pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.8; }
}

/* Evolution animation - Phase 1: Vibrate */
@keyframes evolve-vibrate {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-3px); }
    20% { transform: translateX(3px); }
    30% { transform: translateX(-4px); }
    40% { transform: translateX(4px); }
    50% { transform: translateX(-5px); }
    60% { transform: translateX(5px); }
    70% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
    90% { transform: translateX(-3px); }
}
.anim-evolve-vibrate { 
    animation: evolve-vibrate 0.5s ease-in-out infinite;
    transform-origin: bottom center;
}

/* Evolution animation - Phase 2: Glow Yellow */
@keyframes evolve-glow-yellow {
    0% { filter: brightness(1) saturate(1); }
    50% { filter: brightness(2.5) saturate(0.5) drop-shadow(0 0 40px #facc15) drop-shadow(0 0 80px #fbbf24); }
    100% { filter: brightness(3) saturate(0) drop-shadow(0 0 60px #facc15) drop-shadow(0 0 100px #fff); }
}
.anim-evolve-glow { 
    animation: evolve-glow-yellow 0.8s ease-in-out forwards;
}

/* Evolution animation - Phase 3: Warp/Transform */
@keyframes evolve-warp {
    0% { 
        transform: scale(1.2); 
        filter: brightness(3) saturate(0) drop-shadow(0 0 60px #facc15);
    }
    30% { 
        transform: scale(0.3) rotateY(180deg); 
        filter: brightness(4) saturate(0) drop-shadow(0 0 80px #fff);
    }
    60% { 
        transform: scale(1.3) rotateY(360deg); 
        filter: brightness(2) saturate(0.5) drop-shadow(0 0 50px #a855f7);
    }
    100% { 
        transform: scale(1) rotateY(360deg); 
        filter: brightness(1) saturate(1);
    }
}
.anim-evolve-warp { 
    animation: evolve-warp 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}
